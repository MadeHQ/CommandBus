/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;!function(n){function e(n,e){return y.call(n,e)}function t(n,e){var t,r,i,o,u,s,f,c,p,l,a,d=e&&e.split("/"),h=g.map,m=h&&h["*"]||{};if(n&&"."===n.charAt(0))if(e){for(n=n.split("/"),u=n.length-1,g.nodeIdCompat&&O.test(n[u])&&(n[u]=n[u].replace(O,"")),n=d.slice(0,d.length-1).concat(n),p=0;p<n.length;p+=1)if(a=n[p],"."===a)n.splice(p,1),p-=1;else if(".."===a){if(1===p&&(".."===n[2]||".."===n[0]))break;p>0&&(n.splice(p-1,2),p-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((d||m)&&h){for(t=n.split("/"),p=t.length;p>0;p-=1){if(r=t.slice(0,p).join("/"),d)for(l=d.length;l>0;l-=1)if(i=h[d.slice(0,l).join("/")],i&&(i=i[r])){o=i,s=p;break}if(o)break;!f&&m&&m[r]&&(f=m[r],c=p)}!o&&f&&(o=f,s=c),o&&(t.splice(0,s,o),n=t.join("/"))}return n}function r(e,t){return function(){var r=v.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),p.apply(n,r.concat([e,t]))}}function i(n){return function(e){return t(e,n)}}function o(n){return function(e){d[n]=e}}function u(t){if(e(h,t)){var r=h[t];delete h[t],m[t]=!0,c.apply(n,r)}if(!e(d,t)&&!e(m,t))throw new Error("No "+t);return d[t]}function s(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function f(n){return function(){return g&&g.config&&g.config[n]||{}}}var c,p,l,a,d={},h={},g={},m={},y=Object.prototype.hasOwnProperty,v=[].slice,O=/\.js$/;l=function(n,e){var r,o=s(n),f=o[0];return n=o[1],f&&(f=t(f,e),r=u(f)),f?n=r&&r.normalize?r.normalize(n,i(e)):t(n,e):(n=t(n,e),o=s(n),f=o[0],n=o[1],f&&(r=u(f))),{f:f?f+"!"+n:n,n:n,pr:f,p:r}},a={require:function(n){return r(n)},exports:function(n){var e=d[n];return"undefined"!=typeof e?e:d[n]={}},module:function(n){return{id:n,uri:"",exports:d[n],config:f(n)}}},c=function(t,i,s,f){var c,p,g,y,v,O,b=[],w=typeof s;if(f=f||t,"undefined"===w||"function"===w){for(i=!i.length&&s.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(y=l(i[v],f),p=y.f,"require"===p)b[v]=a.require(t);else if("exports"===p)b[v]=a.exports(t),O=!0;else if("module"===p)c=b[v]=a.module(t);else if(e(d,p)||e(h,p)||e(m,p))b[v]=u(p);else{if(!y.p)throw new Error(t+" missing "+p);y.p.load(y.n,r(f,!0),o(p),{}),b[v]=d[p]}g=s?s.apply(d[t],b):void 0,t&&(c&&c.exports!==n&&c.exports!==d[t]?d[t]=c.exports:g===n&&O||(d[t]=g))}else t&&(d[t]=s)},requirejs=require=p=function(e,t,r,i,o){if("string"==typeof e)return a[e]?a[e](t):u(l(e,t).f);if(!e.splice){if(g=e,g.deps&&p(g.deps,g.callback),!t)return;t.splice?(e=t,t=r,r=null):e=n}return t=t||function(){},"function"==typeof r&&(r=i,i=o),i?c(n,e,t,r):setTimeout(function(){c(n,e,t,r)},4),p},p.config=function(n){return p(n)},requirejs._defined=d,define=function(n,t,r){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");t.splice||(r=t,t=[]),e(d,n)||e(h,n)||(h[n]=[n,t,r])},define.amd={jQuery:!0}}(),define("../bower_components/almond/almond",function(){}),function(){define("extend",[],function(){return function(n){n=n||{};for(var e=1;e<arguments.length;e++)if(arguments[e]){if(arguments[e].constructor===Array){for(var t=[],r=0;r<arguments[e].length;r++){var i=arguments[e][r];for(var o in i)for(var u in n)i[o].hasOwnProperty(u)||(i[o][u]=n[u]);t.push(i)}return t}for(var s in arguments[e])arguments[e].hasOwnProperty(s)&&(n[s]=arguments[e][s])}return n}})}(),function(){define("command-bus",["extend"],function(n){var e;return e=function(){function e(){this.options=null}return e.prototype.setOptions=function(e){null===this.options&&(this.options={}),this.options=n(this.options,e)},e.prototype.setHandlers=function(n){this.setOptions({handlers:n})},e.prototype.setGlobalDependencies=function(n){this.setOptions({globalDependencies:n})},e.prototype.getOption=function(n){if(this.options.hasOwnProperty(n))return this.options[n];throw new ReferenceError("Options "+n+" does not exist")},e.prototype.handle=function(e,t){var r={},i={};if(e.constructor===Object&&(e=e.name,r=e.arguments||{}),this.getOption("handlers").hasOwnProperty(e)){var o=this.getOption("handlers")[e];try{i=n(this.getOption("globalDependencies"),o.dependencies)}catch(u){i=o.dependencies}return o.handler.constructor===Function?o.handler.apply(this,[i,r,t]):require([o.handler],function(n){return n.apply(this,[i,r,t])})}},e}()})}();